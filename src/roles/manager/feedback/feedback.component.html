<div class="bg-white rounded-lg p-6 border border-gray-200">
  <h3 class="text-xl font-bold text-gray-900 mb-4">Feedback</h3>

  <!-- Existing Reviews -->
  <div *ngIf="existingReviews.length" class="mb-6">
    <h4 class="font-semibold text-gray-700 mb-3">Previous Feedback</h4>
    <div class="space-y-3">
      <div
        *ngFor="let review of existingReviews"
        class="bg-blue-50 border border-blue-200 p-4 rounded-lg"
      >
        <div class="flex justify-between items-start mb-2">
          <span class="font-semibold text-gray-900">{{
            review.reviewerName || "Manager"
          }}</span>
        </div>
        <p class="text-gray-700">{{ review.feedback }}</p>
        <span class="text-xs text-gray-500 block mt-2">
          {{ review.reviewDate | date: "short" }}
        </span>
      </div>
    </div>
  </div>

  <!-- Submit Feedback Form -->
  <div class="border-t border-gray-200 pt-6">
    <h4 class="font-semibold text-gray-700 mb-3">Submit Your Feedback</h4>
    <textarea
      [(ngModel)]="feedback"
      placeholder="Enter your feedback here..."
      class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:border-indigo-500 focus:ring-2 focus:ring-indigo-200"
      rows="4"
      [disabled]="isSubmitting"
    ></textarea>
    <button
      (click)="submitFeedback()"
      [disabled]="isSubmitting || !feedback.trim()"
      class="mt-4 px-6 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors font-medium"
    >
      {{ isSubmitting ? "Submitting..." : "Submit Feedback" }}
    </button>
  </div>
</div>
